<html>
	<body>
		<input id="search" type="text" name="search"/>
	</body>
	<script type="text/javascript">
		let getSearchResults = () => {
			console.log("fetching results")
		}
		function debounceSearch(fn, delay) {
			let timer
			return function() {
				let context = this
				let args = arguments
				clearTimeout(timer)
				timer = setTimeout(() => {
					fn.apply(context, args)
				}, delay)
			}
		}
		let betterSearch = debounceSearch(getSearchResults, 300)
		let search = document.getElementById("search")
		search.addEventListener('keyup', betterSearch)
	</script>
</html>
